<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><!--This file was converted to xhtml by LibreOffice - see http://cgit.freedesktop.org/libreoffice/core/tree/filter/source/xslt for the code.--><head profile="http://dublincore.org/documents/dcmi-terms/"><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8"/><title xml:lang="en-US">- no title specified</title><meta name="DCTERMS.title" content="" xml:lang="en-US"/><meta name="DCTERMS.language" content="en-US" scheme="DCTERMS.RFC4646"/><meta name="DCTERMS.source" content="http://xml.openoffice.org/odf2xhtml"/><meta name="DCTERMS.contributor" content="Alan Jackson"/><meta name="DCTERMS.modified" content="2018-02-10T21:03:55.241409202" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.provenance" content="" xml:lang="en-US"/><meta name="DCTERMS.subject" content="," xml:lang="en-US"/><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" hreflang="en"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" hreflang="en"/><link rel="schema.DCTYPE" href="http://purl.org/dc/dcmitype/" hreflang="en"/><link rel="schema.DCAM" href="http://purl.org/dc/dcam/" hreflang="en"/><style type="text/css">
	@page {  }
	table { border-collapse:collapse; border-spacing:0; empty-cells:show }
	td, th { vertical-align:top; font-size:12pt;}
	h1, h2, h3, h4, h5, h6 { clear:both }
	ol, ul { margin:0; padding:0;}
	li { list-style: none; margin:0; padding:0;}
	<!-- "li span.odfLiEnd" - IE 7 issue-->
	li span. { clear: both; line-height:0; width:0; height:0; margin:0; padding:0; }
	span.footnodeNumber { padding-right:1em; }
	span.annotation_style_by_filter { font-size:95%; font-family:Arial; background-color:#fff000;  margin:0; border:0; padding:0;  }
	* { margin:0;}
	.P1 { font-size:10pt; font-family:Liberation Mono; writing-mode:page; text-align:center ! important; }
	.P10 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; font-weight:normal; }
	.P11 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P12 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P13 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P14 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P15 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P16 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P17 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P18 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P19 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P2 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P20 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P21 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P22 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P23 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P24 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P25 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P26 { font-size:10.3999996185303pt; margin-bottom:0in; margin-top:0in; font-family:Ubuntu Mono; writing-mode:page; text-align:center ! important; color:#000000; letter-spacing:normal; font-style:normal; font-weight:normal; }
	.P27 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P28 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P29 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P3 { font-size:24pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; text-align:center ! important; font-weight:bold; }
	.P30 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P31 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P32 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P33 { font-size:10.3999996185303pt; margin-bottom:0in; margin-top:0in; font-family:Ubuntu Mono; writing-mode:page; text-align:center ! important; color:#000000; letter-spacing:normal; font-style:normal; font-weight:normal; }
	.P4 { font-size:14pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; font-weight:bold; }
	.P5 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P6 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P7 { font-size:11pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; font-weight:bold; }
	.P8 { font-size:10pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; }
	.P9 { font-size:12pt; margin-bottom:0in; margin-top:0in; font-family:Liberation Mono; writing-mode:page; font-weight:bold; }
	.Table1 { width:4.75in; 
				margin-left:auto;margin-right:auto;
			}
	.Table1_A1 { vertical-align:middle; padding:0.0382in; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-width:thin; border-top-style:solid; border-top-color:#000000; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table1_A2 { vertical-align:middle; padding:0.0382in; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table1_G1 { vertical-align:middle; padding:0.0382in; border-width:thin; border-style:solid; border-color:#000000; }
	.Table1_G2 { vertical-align:middle; padding:0.0382in; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-width:thin; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table1_A { width:0.6875in; }
	.Table1_B { width:0.875in; }
	.Table1_C { width:0.8125in; }
	.Table1_D { width:0.625in; }
	.Table1_E { width:0.5in; }
	.Bullet_20_Symbols { font-family:OpenSymbol; }
	.Internet_20_link { color:#000080; text-decoration:underline; }
	.T10 { color:#000000; font-family:Ubuntu Mono; font-size:10.3999996185303pt; letter-spacing:normal; font-style:normal; font-weight:normal; }
	.T11 { color:#000000; vertical-align:super; font-size:58%;font-family:Ubuntu Mono; font-size:10.3999996185303pt; letter-spacing:normal; font-style:normal; font-weight:normal; }
	.T8 { color:#000000; font-family:Ubuntu Mono; font-size:10.3999996185303pt; letter-spacing:normal; font-style:normal; font-weight:normal; }
	.T9 { color:#000000; font-family:Ubuntu Mono; font-size:10.3999996185303pt; letter-spacing:normal; font-style:normal; font-weight:normal; }
	<!-- ODF styles with no properties representable as CSS -->
	.T1 .T12 .T13 .T14 .T15 .T16 .T17 .T2 .T3 .T4 .T5 .T6 .T7  { }
	</style></head><body dir="ltr" style="max-width:8.5in;margin-top:0.7874in; margin-bottom:0.7874in; margin-left:0.7874in; margin-right:0.7874in; "><p class="P3">Notes</p><p class="P2"> </p><p class="P4">Reading the HPD crime data</p><p class="P2"> </p><p class="P2">The data may all be found at <a href="http://www.houstontx.gov/police/cs/beatpages/beat_stats.htm" class="Internet_20_link">http://www.houstontx.gov/police/cs/beatpages/beat_stats.htm</a></p><p class="P2"> </p><p class="P2">There are about 3 dozen districts, each with a set of tables by month and year from January 2009 to the present. There are a number of structural issues with the tables.</p><p class="P2"> </p><p class="P2">For district 2a, <span class="T2">structural issues</span>:</p><ul><li><p class="P11" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Jan-May 2009 missing the “number of offenses” column and record<span class="T4">ed</span> time instead of hour<span class="odfLiEnd"/> </p></li><li><p class="P11" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Months prior to June 2014 used premise codes <span class="T4">instead of strings</span><span class="odfLiEnd"/> </p></li><li><p class="P11" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Tables from Jan-July, Sept and Nov 2009, and January 2010 are encoded differently a<span class="T1">n</span>d require xpath='/html/body/table' instead of xpath='/html/body/div/table'<span class="odfLiEnd"/> </p></li><li><p class="P11" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>June and Ju<span class="T1">l</span>y 2014 are missing the Premise column.<span class="odfLiEnd"/> </p></li><li><p class="P11" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Sporadically a table turns up with extra empty columns labeled “Fieldxx” for some number xx.<span class="odfLiEnd"/> </p></li><li><p class="P12" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>August 2017 is missing in the district files, but all the beats that form it are available.<span class="odfLiEnd"/> </p></li></ul><p class="P5"> </p><p class="P5">There are also data issues with the files, which I will touch on here, but not exhaustively.</p><p class="P5"> </p><p class="P5">For district 2a, <span class="T2">data issues</span>:</p><ul><li><p class="P14" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>There are scattered incidents going back to 1998. These are not useful, so anything prior to January 2009 will be dropped. <span class="T3">There were about 120 of these (plus a few from the future)</span><span class="odfLiEnd"/> </p></li><li><p class="P15" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Some Hour fields have extra characters. Remove these and convert to integer.<span class="odfLiEnd"/> </p></li><li><p class="P15" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Some Beat fields have odd characters – remove.<span class="odfLiEnd"/> </p></li><li><p class="P15" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Premise field has lots of issues. Apparently it was not a pull-down.<span class="odfLiEnd"/> </p></li><li><p class="P17" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Offense Type field needs cleanup. Extra \n characters appear, Forcible Rape and Rape (consolidate), Murder and Murder &amp; Manslaughter (consolidate). Burglary and Burglary of a motor vehicle – both become Burglary.<span class="odfLiEnd"/> </p></li><li><p class="P19" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Whoops! BIG problem. Apparently, prior to June 2009, Theft was recorded as Burglary. Also, after June 2009, DWI and Narcotic offenses were no longer recorded. Which makes all the data prior to June 2009 useless. So, it will be deleted.<span class="odfLiEnd"/> </p></li><li><p class="P21" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>1.6% of the premise fields are blank. <span class="T5">Almost all of them are from June and July 2014, but there are a few others scattered about. To remove the NA, to make it easier to use the data, change to the string UNK.</span><span class="odfLiEnd"/> </p></li><li><p class="P23" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Also make Premise == blank “UNK”, and fix things like \n and other typo errors. <span class="T6">Lots of typos. Forty-three lines of string replacements.</span><span class="odfLiEnd"/> </p></li><li><p class="P25" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>There are 126 premises in the dataset, but only 10-15 dominate the statistics. <span class="T7">To simply generating plots and maps, I built a translation table from the 126 premises to only 7:</span><span class="odfLiEnd"/> </p></li></ul><table border="0" cellspacing="0" cellpadding="0" class="Table1"><colgroup><col width="76"/><col width="97"/><col width="90"/><col width="69"/><col width="56"/><col width="69"/><col width="69"/></colgroup><tr><td style="text-align:left;width:0.6875in; " class="Table1_A1"><p class="P26"><a id="rstudio_console_output"/>Parking</p></td><td style="text-align:left;width:0.875in; " class="Table1_A1"><p class="P1">Residence</p></td><td style="text-align:left;width:0.8125in; " class="Table1_A1"><p class="P1">Business</p></td><td style="text-align:left;width:0.625in; " class="Table1_A1"><p class="P1">Street</p></td><td style="text-align:left;width:0.5in; " class="Table1_A1"><p class="P1">Unk</p></td><td style="text-align:left;width:0.625in; " class="Table1_A1"><p class="P1">Other</p></td><td style="text-align:left;width:0.625in; " class="Table1_G1"><p class="P1">Garage</p></td></tr><tr><td style="text-align:left;width:0.6875in; " class="Table1_A2"><p class="P33">18085</p></td><td style="text-align:left;width:0.875in; " class="Table1_A2"><p class="P33">12121</p></td><td style="text-align:left;width:0.8125in; " class="Table1_A2"><p class="P33">11877</p></td><td style="text-align:left;width:0.625in; " class="Table1_A2"><p class="P33">9165</p></td><td style="text-align:left;width:0.5in; " class="Table1_A2"><p class="P33">3433</p></td><td style="text-align:left;width:0.625in; " class="Table1_A2"><p class="P33">1653</p></td><td style="text-align:left;width:0.625in; " class="Table1_G2"><p class="P33">1199</p></td></tr></table><ul><li><p class="P27" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Block_Range looks pretty good, except for some blank fields, so I will set those to “UNK”.<span class="odfLiEnd"/> </p></li><li><p class="P13" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span><span class="T12">Street. Oh my. 1903 unique streets, but many have issues like ending in “ST, STREET, ST.”, or no ending. In other cases there are errors like </span><span class="T8">"HOGAN ST APT </span><span class="T8">2", </span><span class="T9">or really weird ones like “1000 6 1", “"1102 1". </span><span class="odfLiEnd"/> </p></li><li><p class="P28" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span><span class="T8">Quite a few street names are simply “2”. 2</span><span class="T11">nd</span><span class="T8"> street is very short, and does not match any of the block ranges, so this street becomes NA. Interestingly most of these records also have no block range, so they could not be geocoded anyway. </span><span class="T10">Seven records of “1” street. There is no first street, it could be 10, 11, who knows what. NA.</span><span class="odfLiEnd"/> </p></li><li><p class="P29" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Convert all the freeways to the named designators, e.g., IH 10 becomes Katy Fwy.<span class="odfLiEnd"/> </p></li><li><p class="P29" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>For Loop 610, conform to “quadrant LOOP”, e.g., North Loop.<span class="odfLiEnd"/> </p></li></ul><p class="P6"> </p><p class="P8">For District 1a, same exact structural issues as 2a, so the same code worked.</p><p class="P8">For District 1a data issues – <span class="T14">many the same as District 2a</span>:</p><ul><li><p class="P30" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Scattered incidents with very early dates, I’ll just delete them.<span class="odfLiEnd"/> </p></li><li><p class="P30" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Some hour fields have odd characters – remove non-number characters and convert to integer.<span class="odfLiEnd"/> </p></li><li><p class="P18" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Offense Type field needs cleanup. Extra \n characters appear, Forcible Rape and Rape (consolidate), Murder and Murder &amp; Manslaughter (consolidate). Burglary and Burglary of a motor vehicle – both become Burglary.<span class="odfLiEnd"/> </p></li><li><p class="P20" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Whoops! BIG problem. Apparently, prior to June 2009, Theft was recorded as Burglary. Also, after June 2009, DWI and Narcotic offenses were no longer recorded. Which makes all the data prior to June 2009 useless. So, it will be deleted.<span class="odfLiEnd"/> </p></li><li><p class="P16" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Some Beat fields have odd characters – remove.<span class="odfLiEnd"/> </p></li><li><p class="P22" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span><span class="T15">2</span>.<span class="T15">7</span>% of the premise fields are blank. <span class="T5">Almost all of them are from June and July 2014, but there are a few others scattered about. To remove the NA, to make it easier to use the data, change to the string UNK.</span><span class="odfLiEnd"/> </p></li><li><p class="P24" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Also make Premise == blank “UNK”, and fix things like \n and other typo errors. <span class="T6">Lots of typos. Fifty-one lines of string replacements. It may be that the standards changed at some point – there seems to be a strong pattern to the differences.</span><span class="odfLiEnd"/> </p></li><li><p class="P31" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>B<span class="T12">lock_Range looks pretty good, except for some blank fields </span>and one wonky address range in the millions<span class="T12">, so I will set those to “UNK”.</span><span class="odfLiEnd"/> </p></li><li><p class="P32" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Street names are interesting – there are a scattering of names that fall well outside the city limits. Like 3300 N Loop 336 west – which is in Conroe! What is that all about? <span class="T17">Street names take by far the majority of the hands-on effort to clean up, as there are many, many ways they can go bad.</span><span class="odfLiEnd"/> </p></li></ul><p class="P6"> </p><p class="P7">Further datasets for helping cleanup – Street names:</p><p class="P7"> </p><p class="P6">On the city website, there is a set of files of street names, address ranges, and zip codes, from 2003. Use these to create a dataframe of Name, MinAddr, MaxAddr, and a flag to note whether or not a directional prefix (N/S/E/W) is required. This can be used to help the Street Name cleanup process. <span class="T13">Ahh…, won’t work. Streets have all possible combinations of prefix, and duplicate names.</span></p><p class="P6"> </p><p class="P9">Geocoding</p><p class="P9"> </p><p class="P10">Used the Google API to pull lat/longs for the data. Since the block ranges given are not real (they always show up as something like 2000-2099 even if the block ends at 2050), I pulled coordinates for each end of the block range – Google does the right thing – and then averaged them to get a center block position. Strangely, a small percentage of the time, feeding the same address to Google multiple times can result in different answers, so I look for absurd coordinates and redo those. <span class="T16">Some are simply addresses that don’t make much sense, so Google fails. For example, geocode("200 waugh , houston, tx") yields -90.98904/38.98609, which is somewhere near St. Louis. However, 299 Waugh is correctly located.</span></p><p class="P10"> </p><p class="P10"> </p></body></html>